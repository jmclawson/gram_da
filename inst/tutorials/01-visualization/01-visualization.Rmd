---
title: "Lesson 1: Data Visualization in R"
output: 
  learnr::tutorial:
    progressive: true
runtime: shiny_prerendered
description: >
  Get started in R by using it to visualize 
  some data about the 2019 football season in
  the Southwestern Athletic Conference.
---

```{r setup, include=FALSE}
library(learnr)
library(gradethis)
library(tidyverse)
library(gramda)

gradethis_setup()

knitr::opts_chunk$set(echo = FALSE)
```

## 1. Introduction

This interactive tutorial will introduce you to some basics of visualizing data in R. You'll see some blocks of code that allow you to modify them and see the results. This code is the same you would use outside of the tutorial, whether working in R Studio's Console or when using the Source pane to write an R script or an R Markdown document. For the sake of this tutorial, please make sure you've completed material explained in previous lessons on Canvas and on YouTube, including installing the `tidyverse` package.

The work flow of this lesson is based on chapter 1 of [*R for Data Science*](https://r4ds.had.co.nz), by Hadley Wickham and Garrett Grolemund.

## 2. Getting started

The first thing we'll need to do in almost any analysis is to load the necessary packages. For this lesson, we'll be using the `tidyverse` package and the `gramda` package. (Both of these should already have been installed in the first class.) In the code block below, fill in the missing blank to load both packages using the `library()` command. When you think you have it, click the "Run Code" button, and then check your work by clicking "Submit Answer."

```{r libraries, exercise=TRUE}
library(tidyverse)
library(___)
```

```{r libraries-solution}
library(tidyverse)
library(gramda)
```

```{r libraries-check}
grade_this_code()
```

## 3. Solve a Problem by Visualizing Data

For the first graph we create, we're going to look at Grambling's 2019 football season in comparison with other universities in our athletic conference, SWAC. We're going to use this data to try to answer the question, "**Do teams score more points when playing at home than when they play an away game?**" The `gramda` package provides the data we need in the data frame called `swac`. In this **data frame**, every row represents a game (an *observation*), and every column represents some feature of that game (a *variable*).

### 3.1 Look at the data

Type the name `swac` in the code block below to see what these rows and columns look like.

```{r swac, exercise=TRUE}

```

```{r swac-solution}
swac
```

```{r swac-check}
grade_this_code()
```

Although the data frame has many columns and rows, it's showing you only a small number of them on the screen to make things manageable. The bottom left of the table shows you the actual dimensions of the table. How many rows and columns are there?

At the top of each column, the column name identifies the variable it represents. As you can see, the each SWAC team's schedule is represented in the `Team` column, while their opponents are listed in the `Opponents` column. This means that some of the games are listed twice, when the opponent is also a SWAC university.

Among the variables in `swac` are two we're going to be paying attention to:

1.  `Team.Score` shows the score earned by a SWAC team in the game.
2.  `Location` indicates whether the game was a "Home" or "Away" game.

As with many objects in R, you can learn more about `swac` by opening its help page. Add a `?` before any command to learn more about it; in this case, you can type `?swac`.

### 3.2 Create a ggplot

Run this code to put `Location` on the x-axis and `Team.Score` on the y-axis.

```{r gg1, exercise=TRUE}
ggplot(data = swac) + 
  geom_boxplot(mapping = aes(x = Location, y = Team.Score))
```

This **box plot** shows the distribution of scores for each kind of game, Home and Away. The boundaries of the box shows the middle 50% of scores, and the outer lines or "whiskers" extend to the maximum and minimum scores to show the top and bottom 25%. The heavy middle line shows the median score a team earned---i.e., the middlemost score of the group.

The visualization shows that SWAC teams typically scored below 30 points in away games, while they scored almost 35 points in home games. With this information, we can answer the question originally posed: **Teams in our conference seem to play better when playing in front of a home audience.**

### 3.3 Understanding ggplot's options

Whenever we use the the `ggplot()` function to make a chart, it will have a few common characteristics:

1.  The data frame we're using should be identified---see `data = swac` in the box plot above and `<DATA>` in the block below.
2.  The type of the chart is indicated using a command starting with "geom\_"---see `geom_boxplot` in the above example and `<CHART.TYPE>` below.
3.  The dimensions for x-axis, y-axis, and other things will be indicated as different aesthetic mappings, relating columns to visual elements---see `mapping = aes(x = Location, y = Team.Score)` above and `<DIMENSIONS>` below.

```{r gg-understand, eval=FALSE, echo=TRUE}
ggplot(data = <DATA>) + 
  geom_<CHART.TYPE>(mapping = aes(<DIMENSIONS>))
```

## 4. Checkpoint Quiz (No pressure!)

Now's your chance to double check your understanding so far. To serve as a kind of "scratch paper" for you to check things out, this code block will let you try out the code you think you might need:

```{r checkpoint1, exercise=TRUE}

```

These questions are just to let you see how well you understand things:

```{r quiz}
quiz(
  question("Which package contains functions for installing other R packages?",
    answer("base"),
    answer("tools"),
    answer("utils", correct = TRUE),
    answer("codetools")
  ),
  question("Which of the R packages listed below are used to create plots?",
    answer("lattice", correct = TRUE),
    answer("tools"),
    answer("stats"),
    answer("grid", correct = TRUE)
  )
)
```
